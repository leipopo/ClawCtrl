# 参数单位：（详见config.h）
- 角度：deg
- 转速：rpm
- 电流：A
- 转矩：N·m
- 时间：ms
- 频率：Hz

# 电机定义：
- 手指电机为电机一与电机二
- 手掌电机为电机三（远离手指）和电机四（靠近手指）

# 基本通讯：
## PCtoMCU：

|Data[0]|Data[1]|Data[2]|Data[3]|Data[4]|Data[5]|Data[6]|Data[7]|Data[8]|Data[9]|Data[10]|Data[11]|   功 能  |
|:----:|:----:|:----:|:----:|:----:|:----:|:----:|:----:|:----:|:----:|:----:|:----:|:----:|
|0x00|电机一相对角度改变值高八位|电机一相对角度改变值低八位|电机二相对角度改变值高八位|电机二相对角度改变值低八位|电机三相对角度改变值高八位|电机三相对角度改变值低八位|电机四相对角度改变值高八位| 电机四相对角度改变值低八位| 暂无校验| 暂无校验| 0x0A|设定电机相对角度|
|0x01|电机一绝对角度值高八位|电机一绝对角度值低八位|电机二绝对角度值高八位|电机二绝对角度值低八位|电机三绝对角度值高八位|电机三绝对角度值低八位|电机四绝对角度值高八位|电机四绝对角度值低八位| 暂无校验| 暂无校验| 0x0A|设定电机绝对角度|
|0x02|电机一速度设定值高八位|电机一速度设定值低八位|电机二速度设定值高八位|电机二速度设定值低八位|电机三速度设定值高八位|电机三速度设定值低八位|电机四速度设定值高八位|电机四速度设定值低八位| 暂无校验| 暂无校验| 0x0A|设定电机最大转速|
|0x03|电机一转矩值X10高八位|电机一转矩值X10低八位|电机二转矩值X10高八位|电机二转矩值X10低八位|电机三转矩值X10高八位|电机三转矩值X10低八位|电机四转矩值X10高八位|电机四转矩值X10低八位| 暂无校验| 暂无校验| 0x0A|设定电机转矩|
|0x04|0x00|0x00|0x00|0x00|0x00|0x00|0x00| 0x00| 暂无校验| 暂无校验| 0x0A|放松|
|0x05|0x00|0x00|0x00|0x00|0x00|0x00|0x00| 0x00| 暂无校验| 暂无校验| 0x0A|回零|
|0xff|0x00|0x00/0x01|0x00|0x00/0x01|0x00|0x00/0x01|0x00| 0x00/0x01| 0x0/10/10/10/1| 0x0/10/10/10/1| 0x0A|关电机|

**注：电机控制方式是同时变化的，**即爪子四个电机只能同时以绝对角度或者相对角度或者转矩控制，且只能同时放松或回零。
具体状态转换见（infoproc.c/infoproc.h，
  
`void command2clawinfo(usercommand *uc,clawinfo *ci,MotorInfo m[4])`，

`void motor2clawinfo(clawinfo *ci,MotorInfo m[4])`，

`void claw2motorinfo(clawinfo *ci,MotorInfo m[4])`)。


**电机通断电可以单独控制，** 如单独断开电机二的电流需输入0xff 0x00 0x01（电机一通电）0x00 0x00（电机二断电）0x00 0x01（电机三通电） 0x00 0x01（电机四通电） 0x10 0x11（校验） 0x0a，具体转换详见（uart3.c/uart3.h，

`void RX_Decoder(uint8_t *buf, usercommand *uc)`）。

串口接收见（uart3.c/uart3.h，
  
`void RX_Decoder(uint8_t *buf, usercommand *uc)`）。

## MCUtoPC：
### 数据回报：
- 状态定义：
- 爪子状态：0x00 rel_postionctrl 0x01 abs_postionctrl 0x02 torquectrl 0x03 loose 0x04 zero 0x05 ready 0x06 moving
- 电机状态：0x00 loose 0x01 zeroing 0x10 inpostion 0x11 moving

|Data[0]|Data[1]|Data[2]|Data[3]|Data[4]|Data[5]|Data[6]|Data[7]|Data[8]|Data[9]|Data[10]|Data[11]|   功 能  |
|:----:|:----:|:----:|:----:|:----:|:----:|:----:|:----:|:----:|:----:|:----:|:----:|:----:|
|0xf0|0x00|电机一状态|0x00|电机二状态|0x00|电机三状态|0x00| 电机四状态| 0x00| 爪子状态| 0x0A|回报电机当前状态和爪子状态|
|0xf1|当前电机一转矩X100高八位|当前电机一转矩X100低八位|当前电机二转矩X100高八位|当前电机二转矩X100低八位|当前电机三转矩X100高八位|当前电机三转矩X100低八位|当前电机四转矩X100高八位|当前电机四转矩X100低八位| 四电机转矩X100加和高八位| 四电机转矩X100加和高八位| 0x0A|回报电机当前转矩X100|
|0xf2|当前电机一角度高八位|当前电机一角度低八位|当前电机二角度高八位|当前电机二角度低八位|当前电机三角度高八位|当前电机三角度低八位|当前电机四角度高八位|当前电机四角度低八位| 四电机角度加和高八位| 四电机角度加和低八位| 0x0A|回报电机当前角度|
|0xf3|当前电机一速度高八位|当前电机一速度低八位|当前电机二速度高八位|当前电机二速度低八位|当前电机三速度高八位|当前电机三速度低八位|当前电机四速度高八位|当前电机四速度低八位| 四电机转速加和高八位| 四电机转速加和低八位| 0x0A|回报电机当前转速|




### 警告回报：

|Data[0]|Data[1]|Data[2]|Data[3]|Data[4]|Data[5]|Data[6]|Data[7]|Data[8]|Data[9]|Data[10]|Data[11]|
|:----:|:----:|:----:|:----:|:----:|:----:|:----:|:----:|:----:|:----:|:----:|:----:|
|0xaa|手掌电机差角过大警告|电机位置控制转警告高八位|电机位置控制转警告低八位|0x00|0x00|0x00|0x00|0x00|0x00|0x00|0x0a|

**注：在对手掌电机差角的判断中若电机三角度大于电机四（以回零的方向为正）则反馈0x10，反之为0x01，正常为0x00；
在对电机=堵转的判断中，若电机二堵转则反馈0x0100，正常为0x0000**

内容详见（infoproc.c/infoproc.h，

`void sendmestopc(void)`)。

电机控制算法详见（motorlib.c/motorlib.h）。

